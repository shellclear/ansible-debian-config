---
- name: Creating additional apt repository files on /etc/apt/sources.list.d/ folder
  apt_repository:
    filename: "{{ item.name | mandatory }}"
    repo: "{{ item.repository | mandatory }}"
    state: "{{ item.state | default('present') }}"
    mode: 0644
    update_cache: no
  loop: "{{ repositories }}"
  loop_control:
    label: "{{ item.name }} repo is {{ item.state | default('present') }}"    
#  register: result

# - name: DEBUG - Creating additional apt repository files on /etc/apt/sources.list.d/
#   debug:
#     msg:
#       - "{{ result }}"
